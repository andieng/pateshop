<UserControl x:Class="MyShop.Views.ProductsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewModels="clr-namespace:MyShop.ViewModels"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        MinHeight="564.04" MinWidth="730">
    <UserControl.Resources>
        <viewModels:ProductsViewModel x:Key="productsViewModel" />
    </UserControl.Resources>
    <Grid DataContext="{StaticResource productsViewModel}" Background="#f5fcff">
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--Search-->
        <Grid 
            DockPanel.Dock="Right" 
            Width="360"
            Margin="40,0,40,0">

            <!--Search wrapper-->
            <Border CornerRadius="20" BorderThickness="1" BorderBrush="#a9a9a9" Height="38">
                <DockPanel>
                    <!--Search icon-->
                    <Image 
                        Margin="12,0,0,0" 
                        Source="../Resources/search.png" 
                        Width="20" 
                        Height="20"
                        HorizontalAlignment="Left"/>

                    <!--Search textbox-->
                    <TextBox
                        x:Name="searchTextBox" 
                        Style="{x:Null}"
                        BorderThickness="0"
                        Margin="6,5,18,5" 
                        VerticalAlignment="Center" />
                </DockPanel>
            </Border>

            <!--Search placeholder-->
            <TextBlock 
                IsHitTestVisible="False" 
                Text="Search anything" 
                VerticalAlignment="Center" 
                HorizontalAlignment="Left" 
                Margin="41,0,0,0" 
                Foreground="DarkGray"
                FontWeight="Light">
                <TextBlock.Style>
                    <Style TargetType="{x:Type TextBlock}">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Text, ElementName=searchTextBox}" Value="">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </Grid>

        <!-- Categories List-->
        <Grid Grid.RowSpan="2">
            <ListView  ItemsSource="{Binding CategoriesList}" Margin="40,60,50,0">
                <ListView.ItemContainerStyle>
                    <Style TargetType="ListViewItem" BasedOn="{StaticResource MaterialDesignGridViewItem}">
                        <Setter 
                            Property="HorizontalContentAlignment" 
                            Value="Stretch" 
                        />
                    </Style>
                </ListView.ItemContainerStyle>
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="ID">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock TextAlignment="Center" Text="{Binding CategoryId}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn
                            Width="Auto"
                            Header="Category Name" >
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock TextAlignment="Left" Text="{Binding CategoryName}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn
                            Header="Total Product" >
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center">1</TextBlock>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <!-- Action -->
                        <GridViewColumn Width="Auto" Header="Actions">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <!-- Nút Update -->
                                        <Button 
                                            Style="{StaticResource MaterialDesignIconButton}"
                                            BorderThickness="0"
                                            materialDesign:ButtonAssist.CornerRadius="20"
                                            Padding="0" 
                                            ToolTip="Update"
                                            Command="{Binding UpdateCommand}" 
                                            CommandParameter="{Binding}">
                                            <materialDesign:PackIcon 
                                                DockPanel.Dock="Left" 
                                                Kind="SquareEditOutline" 
                                                Width="20"
                                                Height="20" 
                                                VerticalAlignment="Center" />
                                        </Button>

                                        <!-- Nút Delete -->
                                        <Button Style="{StaticResource MaterialDesignIconButton}" 
                                                BorderThickness="0"
                                                materialDesign:ButtonAssist.CornerRadius="20" Foreground="#dc3545"
                                                Padding="0" 
                                                ToolTip="Delete"
                                                Command="{Binding DeleteCommand}" 
                                                CommandParameter="{Binding}">
                                            <materialDesign:PackIcon 
                                                DockPanel.Dock="Left" 
                                                Kind="Delete" 
                                                Width="20" 
                                                Height="20"
                                                VerticalAlignment="Center" />
                                        </Button>
                                    </StackPanel>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>
    </Grid>
</UserControl>